<!doctype html>
<html lang="en">

    <head>
        <title></title>

        <!-- charset setting -->
        <meta charset="utf-8">

        <!-- meta data -->
        <meta name="author" content="Dr Xu Zhang">
        <meta name="generator" content="VS Code + Reveal.js + Markdown + Mermaid">

        <!-- disable search engine robots -->
        <meta name="robots" content="none">

        <!-- viewport settings -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <!-- all css files -->
        <link rel="stylesheet" href="../../../assets/dist/css/master.css">
        <!-- these 2 theme files have to be left here for enabling the them selection in menu -->
        <link rel="stylesheet" href="../../../assets/dist/theme/black.css" id="theme">
        <link rel="stylesheet" href="../../../assets/plugin/highlight/monokai.css" id="theme">

        <!-- define data but update later -->
        <script>
            const authorData = new Map([
                ['course', 'Classical Artificial Intelligence'],
                ['coursecode', 'COMP712'],
                ['week', '8'],
                ['topic', ' - Constraint Satisfaction'],
            ]);
        </script>
        <script id="header_pdf_func" src="../../../assets/dist/js/header.js"></script>
    </head>

    <body>
        <div class="pdf_div">
            <div class="pdf_link">
                <a class="link_no_change roll" href="#" onclick="GeneratePDF();">
                    <span data-title="⇩PDF">⇩PDF</span></a><br>
                <span class="yellow" id="time_placeholder" title="Click to show the python console">00:00</span>
            </div>
        </div>
        <iframe id="mid-iframe" src="https://console.python.org/python-dot-org-console/" title="Click this gray border to hide python console"></iframe>

        <!-- main content of the slides -->
        <div class="reveal">
            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section id="chap_title">
                    <section id="title">
                        <h1><span class="course"></span></h1>
                        <h3><span class="coursecode orange"></span></h3>
                        <p><span class="week bigtext"></span><span class="topic bigtext"></span></p>
                        <img src="../common/digitap2.png" alt="digital attendance reminder" class="r-stretch" />
                        <p>
                            <span class="fullname cyan"></span> <br>
                            <span class="uni"></span> v. <span class="year"></span>
                        </p>
                    </section>

                    <section id="overview">
                        <h1>Overview</h1>
                        <ul>
                            <li>Constraint Satisfaction Problem (CSP): concept, Sudoku example</li>
                            <li>Wave Function Collapse: the idea, examples</li>
                        </ul>
                    </section>
                </section>

                <section id="chap_constraint_satisfaction">
                    <section id="constraint_satisfaction_title">
                        <h1 class="r-frame-text">Constraint Satisfaction Problem</h1>
                    </section>

                    <section id="csp">
                        <h1>Constraint Satisfaction Problem (CSP)</h1>
                        <ul>
                            <li>A CSP is defined by:
                                <ul>
                                    <li>A set $\{X_1,X_2,\cdots,X_n\}$ of <span class="lightcyan">variables</span></li>
                                    <li>A set $\{D_1,D_2,\cdots,D_n\}$ of <span class="lightorange">domains</span>, specifying what values each variable can take</li>
                                    <li>A set $\{C_1,C_2,\cdots,C_m\}$ of <span class="lightgreen">constraints</span> that the variables must satisfy</li>
                                </ul>
                            </li>
                            <li>A <span class="lightpurple">solution</span> is an assignment of a value to every variable which satisfies all of the constraints</li>
                        </ul>
                    </section>

                    <section id="sudoku">
                        <h1>SUDOKU</h1>
                        <div class="row">
                            <div class="col-60">
                                <ul><a href="https://www.wikiwand.com/en/Sudoku" target="_blank">Sudoku</a>: a popular game originated from ancient China
                                    <li>A $9 \times 9$ grid</li>
                                    <li>Each cell contains a number $1-9$</li>
                                    <li>A number cannot appear more than once in any given row, column, or $3 \times 3$ square outlined in bold</li>
                                    <li>Some numbers are given - the puzzle is to fill in the rest</li>
                                    <li>A properly designed Sudoku puzzle has exactly one solution</li>
                                </ul>
                            </div>
                            <div class="col-40">
                                <img class="img-width-400" src="img/sudoku.png" alt="Sudoku Puzzle">
                            </div>
                        </div>
                    </section>

                    <section id="sudoku_csp">
                        <h1>SUDOKU as a CSP</h1>
                        <div class="row">
                            <div class="col-65">
                                <ul>
                                    <li><span class="lightgreen">Variables</span>: a subset of <span class="smalltext">$\{X_{1,1},X_{1,2},\cdots,X_{9,9}\}$</span>
                                        <dd>One variable per empty cell (less than 81)</dd>
                                    </li>
                                    <li>All empty cells have the same <span class="lightorange">domain</span>: <span class="smalltext">$D_{i,j}=\{1,\cdots,9\}$</span></li>
                                    <li><span class="lightpink">Constraints</span>:
                                        <ul>
                                            <li><span class="smalltext">$X_{i,j} \ne X_{i,k}$</span> for all <span class="smalltext">$i,j,k$</span> with <span class="smalltext">$j \ne k$</span></li>
                                            <li><span class="smalltext">$X_{j,i} \ne X_{k,i}$</span> for all <span class="smalltext">$i,j,k$</span> with <span class="smalltext">$j \ne k$</span></li>
                                            <li><span class="smalltext">$X_{i,j} \ne X_{k,l}$</span> for <span class="smalltext">$i,j$</span> and <span class="smalltext">$k$</span> in the same <span class="smalltext">$3 \times 3$</span> square</li>
                                        </ul>
                                    </li>
                                    <li><span class="lightpurple">Solution</span>:
                                        <dd>a value for each cell satisfying the constraints</dd>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-30">
                                <img class="img-width-400" src="img/sudoku.png" alt="Sudoku Puzzle">
                            </div>
                        </div>
                    </section>

                    <section id="solve_csp">
                        <h1>Solving SUDOKU as CSP</h1>
                        <ul>
                            <li>CSP can be solved by a <span class="lightpink">specialised version</span> of DFS</li>
                            <li>Key intuitions:
                                <ul>
                                    <li>We can build up to a solution by searching through the space of partial assignments</li>
                                    <li>Order in which we assign the variables does not matter -- eventually they all have to be assigned.</li>
                                    <li>If during the process of building up a solution we falsify a constraint, we can immediately reject all possible ways of extending the current partial assignment.</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section id="sudoku_solver">
                        <h1>Solving Sudoku via Backtracking Search</h1>
                        <ul>
                            <li>Basic uniformed search for solving CSPs</li>
                            <li>Get rid of unnecessary permutations in search tree $\implies$ significantly reduces search space</li>
                            <li class="fragment"><span class="lightblue">Sudoku Example:</span>
                                <ul>
                                    <li>Pick an empty cell</li>
                                    <li>Try a possible value for that empty cell</li>
                                    <li>Try to solve the rest of the puzzle (recursively)</li>
                                    <li>If we run into a dead end, go back and try a different value</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section id="backtracking_pseudocode">
                        <h1>Backtracking Pseudocode</h1>
                        <pre><code class="r-stretch vb smalltext" data-line-numbers>Procedure SolveBacktracking(cell)
    For n = 1,...,9
        If cell can have value n
            Set value of cell to n 
            If cell is the last empty cell or SolveBacktracking(next_empty_square)
                Return true 

    For each constraint C such that all cells have been assigned
        If failed to satisfy C
            Clear the value of cell 
            Return False
    
    Return True
End Procedure</code></pre>
                    </section>

                    <section id="bt_problem">
                        <h1>Problem with Plain Backtracking</h1>
                        <div class="row">
                            <div class="col-40 mermaid fragment fade-out" style="position: absolute;">
                                <pre>
                                    %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
                                    flowchart TB
                                    G(No possible value)
                                    subgraph SearchTree
                                        direction TB
                                        A( ) --> B( )
                                        B -.-> C( )
                                        C -.-> E( )
                                        E -.-> F[/3x3 Grid Filled\]
                                    end
                                    G -.-> F
                                </pre>
                            </div>
                            <div class="col-40 fragment fade-in" data-fragment-index="1">
                                <img src="img/bt_problem.png" alt="Backtracking problem">
                            </div>
                            <div class="col-60">
                                <ul>
                                    <li>In the backtracking search, we won't detect that a cell has no possible value until all variables of the involving row/column or $3\times 3$ subgrid are assigned. So we have the situation showing on the left.</li>
                                    <li class="fragment" data-fragment-index="1">The cell (3,3) has no possible value!</p>
                                    <li class="fragment" data-fragment-index="2">Leads to the concept of <span class="lightred">constraint propagation</span></li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="sudoku_constraint">
                        <h1>Solving Sudoku via Constraint Propagation</h1>
                        <ul>
                            <li>Each empty cell keeps track of which numbers it could possibly contain</li>
                            <li>Update every cell one after another</li>
                            <li>If a cell has only one possible number, fill it in directly</li>
                            <li>Repeat until stuck</li>
                        </ul>
                    </section>

                    <section id="sudoku_constraint_propagation">
                        <h1>Constraint Propagation Pseudocode</h1>
                        <pre><code class="r-stretch vb smalltext" data-line-numbers>Procedure SolveConstraintPropagation()
    Repeat
        For each empty cell
            Determine the list of possible numbers that could go in the cell
            If the list is empty
                Return false // unsolvable
            Else if the list has a single element
                Fill in the number
            End If
        End For
    Until no changes are made
    Return true
End Procedure</code></pre>
                    </section>
                </section>

                <section id="chap_steps">
                    <!-- source: https://www.boristhebrave.com/2020/04/13/wave-function-collapse-explained/ -->
                    <section id="example_1" data-auto-animate>
                        <h1>Simplified Example - Sudoku 4</h1>
                        <div class="r-hstack justify-center" data-id="hd">
                            <img src="img/sudo4_1.png" alt="Sudoku 4">
                            <img class="fragment custom blur" src="img/sudo4_solution.png" alt="Sudoku 4 solution">
                        </div>
                        <p>A simplified version of Sudoku in a $4\times 4$ grid with the same constraints</p>
                        <p>A <span class="lightgreen">variable</span> is an unknown value to solve, which is different from the definition in programming</p>
                    </section>

                    <section id="example_2" data-auto-animate>
                        <h1>Sudoku 4 - CSP Solving</h1>
                        <div class="r-hstack justify-center" data-id="hd">
                            <img src="img/csp1.png" alt="Sudoku 4">
                            <img class="fragment custom blur" src="img/csp2.png" alt="Sudoku 4 solution" data-fragment-index="1">
                        </div>
                        <p>Multiple possible values for empty cells and a fixed one for non-empty cells</p>
                        <p class="fragment" data-fragment-index="1">Let's consider the first constraint of the top row:<br>
                            as 4 presents already we can safely delete 4 from the others.</p>
                        <p class="fragment"><span class="lightpurple">Constraint propagates</span> from one variable to another</p>
                    </section>

                    <section id="example_3" data-auto-animate>
                        <h1>Sudoku - CSP Solving</h1>
                        <img class="r-stretch" src="img/csp_sudoku.png" alt="CSP Sudoku" data-id="hdd">
                        <p>Sounds very promising, let's try to solve the big game</p>
                    </section>

                    <section id="example_4" data-auto-animate>
                        <h1>Sudoku - CSP Solving (2)</h1>
                        <img class="r-stretch" src="img/csp_fail.png" alt="CSP fail" data-id="hdd">
                        <p>All constraints are fully propagated, but that's not enough. What to do next?</p>
                    </section>

                    <section id="example_5" data-auto-animate>
                        <h1>Sudoku - CSP Solving (3)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li>What to do if we were stuck using CSP?</li>
                                    <li class="fragment">What will you do if you are solving this problem?
                                        <dd class="fragment">- Human has more complicated logics to inference<br>
                                            - E.g. cell (3,2) in sub-grid (2,3) has to be 7. Similarly, cell (2,2) in the centre grid has to be 5...</dd>
                                    </li>
                                    <li class="fragment">But for computer, we need something more <span class="lightblue">generic</span> to solve any set of constraint problem, not specifically for Sudoku. - <span class="fragment lightpurple">it simply guesses!</span></li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_fail.png" alt="CSP Sudoku" data-id="hdd"></div>
                        </div>
                    </section>

                    <section id="example_6" data-auto-animate>
                        <h1>Sudoku - CSP Solving (4)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li>Let's start by guessing the centre cell is 1 (blue)</li>
                                    <li class="fragment">Then, we can continue to propagate the constraint to get more cells</li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_guess_1.png" alt="CSP Sudoku" data-id="hdd">
                            </div>
                        </div>
                    </section>

                    <section id="example_7" data-auto-animate>
                        <h1>Sudoku - CSP Solving (5)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li><span class="half-out">Let's start by guessing the centre cell is 1 (blue)</span> </li>
                                    <li><span class="half-out">Then, we can continue to propagate the constraint to get more cells</span></li>
                                    <li>E.g. 9 below 1</li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_guess_2.png" alt="CSP Sudoku" data-id="hdd">
                            </div>
                        </div>
                    </section>

                    <section id="example_8" data-auto-animate>
                        <h1>Sudoku - CSP Solving (6)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li><span class="half-out">Let's start by guessing the centre cell is 1 (blue)</span></li>
                                    <li><span class="half-out">Then, we can continue to propagate the constraint to get more cells</span></li>
                                    <li><span class="half-out">E.g. 9 below 1</span></li>
                                    <li>Then, 2 and 8 above 1</li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_guess_3.png" alt="CSP Sudoku" data-id="hdd">
                            </div>
                        </div>
                    </section>

                    <section id="example_9" data-auto-animate>
                        <h1>Sudoku - CSP Solving (7)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li><span class="half-out">Let's start by guessing the centre cell is 1 (blue)</span></li>
                                    <li><span class="half-out">Then, we can continue to propagate the constraint to get more cells</span></li>
                                    <li><span class="half-out">E.g. 9 below 1</span></li>
                                    <li><span class="half-out">Then, 2 and 8 above 1</span></li>
                                    <li>Ops, it leads to an empty cell above the blue 2 we just filled</li>
                                    <li class="fragment">The initial guess of centre 1 must be <span class="red">wrong</span>!</li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_guess_4.png" alt="CSP Sudoku" data-id="hdd">
                            </div>
                        </div>
                    </section>

                    <section id="example_10" data-auto-animate>
                        <h1>Sudoku - CSP Solving (8)</h1>
                        <div class="row">
                            <div class="col-50">
                                <ul>
                                    <li><span class="half-out">Let's start by guessing the centre cell is 1 (blue)</span></li>
                                    <li><span class="half-out">Then, we can continue to propagate the constraint to get more cells</span></li>
                                    <li><span class="half-out">E.g. 9 below 1</span></li>
                                    <li><span class="half-out">Then, 2 and 8 above 1</span></li>
                                    <li><span class="half-out">Ops, it leads to an empty cell above the blue 2 we just filled</span></li>
                                    <li><span class="half-out"></span>The initial guess of centre 1 must be wrong!</span></li>
                                    <li>Go back and try another guess - <span class="lightpink">sounds familiar? backtracking!</span></li>
                                </ul>
                            </div>
                            <div class="col-50 r-stretch"><img src="img/csp_guess_5.png" alt="CSP Sudoku" data-id="hdd">
                            </div>
                        </div>
                    </section>

                    <section id="backtracking_vs_constraint_propagation">
                        <h1>Backtracking vs. Constraint Propagation</h1>
                        <ul>
                            <li>Backtracking <span class="lightgreen">always finds a solution</span>, but is <span class="lightpurple">inefficient</span></li>
                            <li>Constraint propagation is <span class="lightcyan">efficient</span>, but <span class="lightred">doesn't always find a solution</span></li>
                            <li>More sophisticated constraint propagation algorithms do exist</li>
                            <li>We could also combine the two:
                                <ul>
                                    <li>Use backtracking to "<span class="italic lightorange">unstick</span>" constraint propagation</li>
                                    <li>Use constraint propagation to <span class="lightbrown">narrow down the options</span> that backtracking needs to consider</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section id="back_plus_prop">
                        <h1>Constraint Propagation + Backtracking</h1>
                        <div class="row">
                            <div class="col-50">
                                <pre class="img-height-450 r-stretch"><code class="vb smalltext" data-line-numbers>Procedure SolveConstraintPropagation()
    Repeat
        For each empty cell
            Determine the list of possible numbers
            If the list is empty
                Return false // unsolvable
            Else if the list has a single element
                Fill in the number
    Until no changes are made
    Call SolveBacktracking(first empty cell) if puzzle is not solved
End Procedure</code></pre>
                            </div>
                            <div class="col-50">
                                <pre class="img-height-450 r-stretch"><code class="vb smalltext" data-line-numbers>Procedure SolveBacktracking(cell)
    For n = 1, … , 9
        If cell can have value n
            Save the state of the board
            Set value of cell to n
            If SolveConstraintPropagation()
                Return true
            Restore the saved state of the board
    Clear the value of cell
    Return false
End Procedure
</code></pre>
                            </div>
                        </div>
                    </section>

                </section>

                <section id="chap_wave_function" data-animate>
                    <section class="wave_function_title">
                        <h1 class="r-frame-text">Wave Function Collapse</h1>
                    </section>

                    <section id="wave_function">
                        <h1>Wave Function Collapse (WFC)</h1>
                        <div class="row">
                            <div class="col-70">
                                <ul>
                                    <li>Procedure Content Generation (PCG) algorithm</li>
                                    <li>Invented by Maxim Gumin in 2016</li>
                                    <li>Named after a concept from quantum mechanics</li>
                                    <p class="text-center"><img class="img-height-400 text-center" src="img/wave_example.gif" alt="Wave Function Collapse Examples"></p>
                                    <p class="hidden">source: https://raw.githubusercontent.com/mxgmn/WaveFunctionCollapse/master/images/wfc.gif</p>
                                </ul>
                            </div>
                            <div class="col-30"><img class="img-height-550" src="img/wave_function.png" alt="wave function collapse algorithm">
                                <p class="hidden">source: https://raw.githubusercontent.com/mxgmn/WaveFunctionCollapse/master/images/wfc.png</p>
                            </div>
                        </div>
                    </section>

                    <section id="wave_function_idea">
                        <h1>Wave Function Collapse (WFC): The Idea</h1>
                        <ul>
                            <li>Space is divided into cells, each of which has a <span class="lightpink">state</span>
                                <dd>E.g. pixels with a colour; voxels with a 3D mesh from a modular kit</dd>
                            </li>
                            <li>Constraints on what cell states can neighbour each other are extracted from examples
                                <ul>
                                    <li>A basic form of machine learning</li>
                                    <li>Constraints are <span class="lightorange">probabilistic</span> - not just what is allowed next to a given cell, but what is more or less likely</li>
                                </ul>
                            </li>
                            <li>Each cell has a <span class="lightcyan">probability distribution</span> over <span class="lightpink">states</span></li>
                            <li>A cell is chosen, its state is set according to its probabilities, neighbouring cells are updated according to constraints</li>
                            <li>The algorithm <span class="lightgreen">backtracks</span> if it gets stuck</li>
                        </ul>
                    </section>

                    <section id="wfc_is_csp">
                        <h1>WFC is CSP</h1>
                        <ul>
                            <li>Wave Function Collapse is a constraint satisfaction problem with a twist</li>
                            <li>There are so many possible solutions</li>
                            <li>What we get in the end is not a solver, but a generator!</li>
                            <li>It still obeys all the constraints defined in advance</li>
                            <li>More controllable than a lot of other procedural generation methods</li>
                        </ul>
                    </section>

                    <section id="wfc_as_csp">
                        <h1>WFC as CSP</h1>
                        <ul>
                            <li>Variable: each cell represent the choice of tile</li>
                            <li>Constraint: nearby tiles match with each other</li>
                            <li>The goal: fill in a grid with tiles</li>
                            <li>Maxim discovered that with a reasonable choice of tiles, and a sensible randomisation routine, it’s rarely necessary to backtrack</li>
                        </ul>
                    </section>

                    <section id="wfc_pseudocode">
                        <h1>WFC Pseudocode</h1>
                        <div>
                            <pre><code class="vb" data-line-numbers>Procedure WFC(grid)
    For each cell of the grid
        create a boolean array representing the domain of that variable.
    While there are still cells that have multiple items in the domain
        Pick a random cell using the “least entropy” heuristic.
        Pick a random tile from that cell’s domain, and remove all other tiles from the domain.
        Repeatedly update the domains of other cells based on this new information, i.e. propagate cells. 
End Procedure</code></pre>
                        </div>
                    </section>

                    <section id="wfc_example_1" data-auto-animate>
                        <h1>WFC in Action</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li>Fill the $3\times 3$ grid using the 4 tile patterns</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_init.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_2" data-auto-animate>
                        <h1>WFC in Action (2)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out">Fill the $3\times 3$ grid using the 4 tile patterns</span></li>
                                <li>Each variable has 4 possible tiles to select</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_grid.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_3" data-auto-animate>
                        <h1>WFC in Action (3)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out">Fill the $3\times 3$ grid using the 4 tile patterns</span></li>
                                <li><span class="half-out">Each variable has 4 possible tiles to select</span></li>
                                <li>Randomly choose one cell to fill, let's say the top-left cell this time</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_fill_1.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_4" data-auto-animate>
                        <h1>WFC in Action (4)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out">Fill the $3\times 3$ grid using the 4 tile patterns</span></li>
                                <li><span class="half-out">Each variable has 4 possible tiles to select</span></li>
                                <li><span class="half-out">Randomly choose one cell to fill, let's say the top-left cell this time</span></li>
                                <li>Then, update its adjacent cells to match the edge pixels</li>
                                <li class="fragment lightpink">Can we do more?</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_update_1.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_5" data-auto-animate>
                        <h1>WFC in Action (5)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out">Fill the $3\times 3$ grid using the 4 tile patterns</span></li>
                                <li><span class="half-out">Each variable has 4 possible tiles to select</span></li>
                                <li><span class="half-out">Randomly choose one cell to fill, and update its adjacent cells</span></li>
                                <li><span class="half-out">Then, update its adjacent cells to match the edge pixels</span></li>
                                <li><span class="lightpurple">Yes</span>! Sometimes, we can actually update more cells</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_update_more.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_6" data-auto-animate>
                        <h1>WFC in Action (6)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out">Fill the $3\times 3$ grid using the 4 tile patterns</span></li>
                                <li><span class="half-out">Each variable has 4 possible tiles to select</span></li>
                                <li><span class="half-out">Randomly choose one cell to fill, and update its adjacent cells</span></li>
                                <li><span class="half-out">Then, update its adjacent cells to match the edge pixels</span></li>
                                <li><span class="half-out"><span class="lightpurple">Yes</span>! Sometimes, we can actually update more cells</span></li>
                                <li>Then, select the next tile. Let's say it's the top-centre this time</li>
                                <li>Do more eliminations according to the constraints</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_fill_2.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="wfc_example_7" data-auto-animate>
                        <h1>WFC in Action (7)</h1>
                        <div class="row">
                            <ul class="col-55">
                                <li><span class="half-out"><span class="lightpurple">Yes</span>! Sometimes, we can actually update more cells</span></li>
                                <li><span class="half-out">Then, select the next tile. Let's say it's the top-centre this time</span></li>
                                <li><span class="half-out">Do more eliminations according to the constraints</span></li>
                                <li>Then, we fill another one - middle-left this time</li>
                                <li>It leads to a fixed tile to be filled in the cell in the middle</li>
                                <li>We can do some eliminations after that</li>
                                <li>I'll stop here as the idea is clear now!</li>
                            </ul>
                            <div class="col-40">
                                <img class="img-width-400" src="img/wfc_tiles.png" alt="WFC tiles">
                                <img data-id="hdd" class="r-stretch img-width-400" src="img/wfc_fill_3.png" alt="WFC grids">
                            </div>
                        </div>
                    </section>

                    <section id="online_demo">
                        <h1>Online Demo of WFC</h1>
                        <a href="https://oskarstalberg.com/game/wave/wave.html" target="_blank">Online WFC playground by Oskar Stålberg.</a>
                    </section>

                    <section id="chooosing_next_cell">
                        <h1>Choosing the Next Cell</h1>
                        <ul>
                            <li>Randomly pick the cell with the fewest possible values remaining in the domain
                                <dd>- May work but sometimes cause problem</dd>
                            </li>
                            <li class="fragment" data-fragment-index="1">A cell is chosen which has "<span class="lime">minimal</span>" <span class="lightpurple">Shannon Entropy</span>
                                <dd>$\qquad\qquad\qquad\qquad S = -\displaystyle\sum_i P_i log{P_i}$</dd>
                            </li>
                            <p class="fragment lightskyblue" data-fragment-index="2">Named after Claude Shannon (1916-2001),
                                the “father of Information Theory”</p>
                            <li class="fragment" data-fragment-index="1">Lower <span class="lightpurple">Shannon Entropy</span> = less uncertainty about the possible value of the cell</li>
                        </ul>
                    </section>

                    <section id="wave_function_resource">
                        <h1>Wave Function Collapse Resources</h1>
                        <ul>
                            <li><a href="https://github.com/mxgmn/WaveFunctionCollapse" target="_blank">https://github.com/mxgmn/WaveFunctionCollapse</a></li>
                            <li><a href="http://www.procjam.com/tutorials/wfc/" target="_blank">http://www.procjam.com/tutorials/wfc/</a></li>
                            <li><a href="http://oskarstalberg.com/game/wave/wave.html" target="_blank">http://oskarstalberg.com/game/wave/wave.html</a></li>
                            <li><a href="https://twitter.com/exutumno" target="_blank">https://twitter.com/exutumno</a></li>
                            <li><a href="https://selfsame.itch.io/unitywfc" target="_blank">https://selfsame.itch.io/unitywfc</a></li>
                            <li><a href="https://robertheaton.com/2018/12/17/wavefunction-collapse-algorithm/" target="_blank">https://robertheaton.com/2018/12/17/wavefunction-collapse-algorithm/</a></li>
                            <li><a href="https://www.pcgbook.com/" target="_blank">https://www.pcgbook.com/</a></li>
                        </ul>
                    </section>

                    <section id="questions">
                        <h2><span class="bold purple">Questions?</span></h2>
                        <img src="../common/questions.PNG" class="r-stretch" alt="question image"><br>
                        <h5>Email: <a class="emaillink"></a></h5>
                        <span class="office cyan"></span>
                    </section>
                </section>
            </div>
        </div>

        <!-- header footer div -->
        <div id="header">
            <!-- <div id="header-left">HEADER-LEFT</div> -->
            <!-- <div id="header-right">HEADER-RIGHT</div> -->
            <div class="footer-left"><a href="http://www.falmouth.ac.uk" target="_blank"><img class="img-width-100 img-round-corner-10 img-zoom-15 fix-bottom-left" src="../common/logo.png" title="visit Falmouth University"></a></div>
            <!-- <div id="footer-right">FOOTER-RIGHT</div> -->
        </div>

        <!-- include all js files and settings using document.write() -->
        <script id="all_js_files" src="../../../assets/dist/js/include.js"></script>

    </body>

</html>