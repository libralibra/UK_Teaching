<!DOCTYPE html><html><head>
      <title>fsm</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<p><img src="../../../../Falmouth/common/ga_uni_logo.png" alt=""></p>
<h1 id="comp712-classical-artificial-intelligence">COMP712: Classical Artificial Intelligence </h1>
<h1 id="workshop-finite-state-machine-fsm">Workshop: Finite State Machine (FSM) </h1>
<p>Dr Daniel Zhang @ Falmouth University<br>
2023-2024 Study Block 1</p>
<p><img src="traffic_lights.png" alt=""></p>
<div id="top"></div>
<p>Table of Contents</p>
<ul>
<li><a href="#comp712-classical-artificial-intelligence">COMP712: Classical Artificial Intelligence</a></li>
<li><a href="#workshop-finite-state-machine-fsm">Workshop: Finite State Machine (FSM)</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#understanding-finite-state-machines">Understanding Finite State Machines</a>
<ul>
<li><a href="#components-of-a-finite-state-machine">Components of a Finite State Machine</a></li>
<li><a href="#a-practical-example-traffic-lights-fsm">A Practical Example: Traffic Lights FSM</a></li>
<li><a href="#adjacency-list">Adjacency List</a></li>
</ul>
</li>
<li><a href="#your-task">Your Task</a>
<ul>
<li><a href="#1-traffic-light-fsm">1. Traffic Light FSM</a>
<ul>
<li><a href="#the-repository">The Repository</a></li>
<li><a href="#the-code-structure">The Code Structure</a></li>
<li><a href="#exercise"><strong>Exercise</strong></a></li>
</ul>
</li>
<li><a href="#2-vending-machine-fsm">2. Vending Machine FSM</a>
<ul>
<li><a href="#exercise-1"><strong>Exercise</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#submit-your-code">Submit Your Code</a></li>
<li><a href="#further-reading">Further Reading</a></li>
</ul>
<h1 id="introduction">Introduction </h1>
<p><a href="#top">Top</a></p>
<p>Finite State Machines (FSMs) are powerful tools in computer science and programming. They provide a structured way to model complex systems, making them an essential concept for any aspiring programmer or computer scientist. In this session, we will delve into the world of Finite State Machines, exploring their fundamental principles and applications. We‚Äôll also demonstrate how to implement FSMs using Python, a versatile and popular programming language.</p>
<h1 id="understanding-finite-state-machines">Understanding Finite State Machines </h1>
<p><a href="#top">Top</a></p>
<p>At its core, a Finite State Machine is a mathematical model that describes a system‚Äôs behaviour by dividing it into a finite number of states, transitions between these states, and the conditions triggering these transitions. FSMs are excellent for representing systems with distinct modes or conditions. They are widely used in various domains, such as robotics, gaming, natural language processing, and more.</p>
<h2 id="components-of-a-finite-state-machine">Components of a Finite State Machine </h2>
<p><a href="#top">Top</a></p>
<p>Before we delve into Python programming, let‚Äôs understand the essential components of an FSM:</p>
<ul>
<li>
<p><strong><code>States</code></strong>: These represent the distinct conditions or modes of the system. For instance, in a traffic light system, the states could be ‚ÄòGreen,‚Äô ‚ÄòYellow,‚Äô and ‚ÄòRed.‚Äô</p>
</li>
<li>
<p><strong><code>Transitions</code></strong>: These define the conditions under which the system switches from one state to another. Transitions are often triggered by specific <code>Events</code> (<em>It is also considered as <strong><code>Conditions</code></strong> or <strong><code>Signals</code></strong></em>) or criteria.</p>
</li>
<li>
<p><strong><code>Actions</code></strong>: Actions are tasks or operations performed when a transition occurs. They can range from simple outputs to complex calculations.</p>
</li>
<li>
<p><strong><code>Initial State</code></strong>: This is the starting point of the FSM, where the system begins.</p>
</li>
<li>
<p><strong><code>Final State</code></strong>: The final state indicates the end of a process or scenario.</p>
</li>
</ul>
<p><strong>Note</strong>: In certain FSMs, <code>transitions</code> and <code>actions</code> may be very similar, as no additional actions are required beyond state transitions.</p>
<h2 id="a-practical-example-traffic-lights-fsm">A Practical Example: Traffic Lights FSM </h2>
<p><a href="#top">Top</a></p>
<p>Let‚Äôs consider a simple example of a traffic lights model. The FSM for the traffic lights could have states like ‚Äò<code>Red</code>‚Äô, ‚Äò<code>Green</code>‚Äô, ‚Äò<code>Amber</code>‚Äô, etc. Signals occur as the time elapses or pedestrians pushed the button for crossing. The transition operations need to change the lights‚Äô states.</p>
<p><img src="traffic_lights.png" alt=""></p>
<p>The state diagram of the Traffic Light FSM is illustrated below.</p>
<div class="mermaid">graph TD

title[&lt;u&gt;Traffic Lights FSM&lt;/u&gt;]
title --&gt; A(Start)
style title fill:#FFF,stroke:#FFF
linkStyle 0 stroke:#FFF,stroke-width:0;

A -- Power On --&gt; B(Red)
B -- Time Out --&gt; C(Green)
C -- Time Out --&gt; D(Amber)
D -- Time Out --&gt; B
A -- System Error --&gt; E(Error)
B -- System Error --&gt; E
C -- System Error --&gt; E
D -- System Error --&gt; E
B -- Push Button --&gt; B
C -- Push Button --&gt; F(Wait)
D -- Push Button --&gt; F
F -- Push Button --&gt; F
F -- Time Out --&gt; B
F -- System Error --&gt; E
B -- Power Off --&gt; A
E -- Restart --&gt; B
</div><p>When comparing the state transition diagram above to the definition in the previous section, we can describe the Traffic Light FSM as follows:</p>
<ul>
<li><strong><code>State</code></strong>: The Traffic Light FSM encompasses the states of <code>Start</code>, <code>Red</code>, <code>Green</code>, <code>Amber</code>, <code>Wait</code>, and <code>Error</code>.</li>
<li><strong><code>Signals</code></strong>: The FSM responds to signals including <code>Power On</code>, <code>Power Off</code>, <code>Time Out</code>, <code>Push Button</code>, <code>Restart</code>, and <code>System Error</code>.</li>
<li><strong><code>Actions</code></strong>: State transitions between different states.</li>
<li><strong><code>Initial State</code></strong>: The initial state for this FSM is <code>Start</code>.</li>
<li><strong><code>Final State</code></strong>: The determination of the final state is context-dependent. For instance, <code>Error</code> might be considered the final state, although the <code>Restart</code> signal can trigger a transition to change the light to the <code>Red</code> state. Multiple states can be included in the final state set to terminate the FSM at various points.</li>
</ul>
<h2 id="adjacency-list">Adjacency List </h2>
<p><a href="#top">Top</a></p>
<p>In practical applications, an adjacency list becomes particularly useful when the state diagram grows too complex to explore easily. It serves as a collection of unordered lists, primarily used to represent a finite graph. Each unordered list within an adjacency list describes the set of transitions originating from a specific vertex in the graph. This representation is one of several commonly employed methods for graph representation in computer programming.</p>
<p>For relatively simple state machines, explicitly writing out adjacency lists might seem unnecessary. However, for more intricate systems, you‚Äôll likely find yourself creating a form of it, making it a valuable practice.</p>
<p>In the context of this specific discussion, we won‚Äôt adhere to the precise definition of an adjacency list, as we‚Äôre not describing a ‚Äú<strong>set of neighbours</strong>‚Äù but rather a ‚Äú<strong>set of transitions</strong>‚Äù, as shown in the table below.</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Transition to</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Start</code></td>
<td><code>Red</code> or <code>Error</code></td>
</tr>
<tr>
<td><code>Red</code></td>
<td><code>Start</code> or <code>Green</code> or <code>Error</code></td>
</tr>
<tr>
<td><code>Green</code></td>
<td><code>Amber</code> or <code>Wait</code> or <code>Error</code></td>
</tr>
<tr>
<td><code>Amber</code></td>
<td><code>Red</code> or <code>Wait</code> or <code>Error</code></td>
</tr>
<tr>
<td><code>Wait</code></td>
<td><code>Red</code> or <code>Error</code></td>
</tr>
<tr>
<td><code>Error</code></td>
<td><code>Red</code></td>
</tr>
</tbody>
</table>
<h1 id="your-task">Your Task </h1>
<p><a href="#top">Top</a></p>
<h2 id="1-traffic-light-fsm">1. Traffic Light FSM </h2>
<p><a href="#top">Top</a></p>
<p>This task is to implement the FSM for this Traffic Lights model according to the state diagram above.</p>
<h3 id="the-repository">The Repository </h3>
<p><a href="#top">Top</a></p>
<p>The repository below contains the template code of an FSM implementation in Python.</p>
<p><strong>Fork the repository</strong> (NOT clone!) and work on your fork. This will enable you to submit a pull request in the end.</p>
<blockquote>
<p><a href="https://github.falmouth.ac.uk/Daniel-Zhang/COMP712-Finite-State-Machine.git"><strong>https://github.falmouth.ac.uk/Daniel-Zhang/COMP712-Finite-State-Machine.git</strong></a></p>
</blockquote>
<h3 id="the-code-structure">The Code Structure </h3>
<p><a href="#top">Top</a></p>
<p>The repository contains 3 file.</p>
<ul>
<li><code>fsm.py</code>: it is the implementation of a simple FSM with all the components introduced above except <code>Actions</code>, which is the task for you to implement in a separate script during this workshop. <em>This design will make sure the <code>FSM</code> model response to any model if the <code>transitions</code> and <code>actions</code> are defined properly somewhere</em>.</li>
<li><code>fsm_demo.py</code>: it is a template python script that you are going to working on.</li>
<li><code>demo.pyc</code>: it is an example of completed implementation of Traffic Light FSM, which can be simulated by running <code>python demo.pyc</code>
<ul>
<li>It was compiled using <code>python 3.10.11</code>, which should work with all python <code>3.x</code> version. Please let the tutor know if it doesn‚Äôt work and a newer version will be updated.</li>
</ul>
</li>
</ul>
<h3 id="exercise"><strong>Exercise</strong> </h3>
<p><a href="#top">Top</a></p>
<ul>
<li>complete the implementation of the Traffic Lights FSM
<ul>
<li>make sure it works as expected</li>
<li>increase the number of actions to simulate the process longer</li>
<li>add one or more states to the model</li>
</ul>
</li>
</ul>
<h2 id="2-vending-machine-fsm">2. Vending Machine FSM </h2>
<p><a href="#top">Top</a></p>
<p>This task is to implement a Vending Machine FSM that sells Coca to the user. This special machine only accepts 50p, ¬£1, and ¬£2 coins and each can of Coca costs ¬£2.5 (a little bit expensive üòÉ). Additionally, we will assume the vending machine never runs out of stock for economic reasons. Similarly, it never runs out of change. This example is a perfect computational problem to model with a finite state machine!</p>
<p>The state diagram is illustrated below.</p>
<div class="mermaid">graph TD
title[&lt;u&gt;Vending Machine FSM&lt;/u&gt;]
title --&gt; A(Initialisation)
style title fill:#FFF,stroke:#FFF
linkStyle 0 stroke:#FFF,stroke-width:0;

A -- Power On --&gt; B(Idle)
B -- Insert 50p --&gt; C(50 Pence)
B -- Insert ¬£1 --&gt; D(¬£1)
B -- Insert ¬£2 --&gt; E(¬£2)
C -- Insert 50p --&gt; D
C -- Insert ¬£1 --&gt; F(¬£1.5)
C -- Insert ¬£2 --&gt; G(¬£2.5)
D -- Insert 50p --&gt; F
D -- Insert ¬£1 --&gt; E
D -- Insert ¬£2 --&gt; H(More than ¬£2.5)
E -- Insert 50p --&gt; G
E -- Insert ¬£1 --&gt; H
E -- Insert ¬£2 --&gt; H
F -- Insert 50p --&gt; E
F -- Insert ¬£1 --&gt; G
F -- Insert ¬£2 --&gt; H
G -- Insert 50p --&gt; H
G -- Insert ¬£1 --&gt; H
G -- Insert ¬£2 --&gt; H
H -- Insert 50p --&gt; H
H -- Insert ¬£1 --&gt; H
H -- Insert ¬£2 --&gt; H
C -- Push Button --&gt; C
D -- Push Button --&gt; D
E -- Push Button --&gt; E
F -- Push Button --&gt; F
G -- Push Button --&gt; I(Dispense)
I -- Last State is ¬£2.5* --&gt; B
H -- Push Button --&gt; I
I -- Last State is More than ¬£2.5* --&gt; J(Giving Change)
C -- Cancel --&gt; J
D -- Cancel --&gt; J
E -- Cancel --&gt; J
F -- Cancel --&gt; J
G -- Cancel --&gt; J
H -- Cancel --&gt; J
J ---&gt; B
</div><h3 id="exercise-1"><strong>Exercise</strong> </h3>
<p><a href="#top">Top</a></p>
<ul>
<li>Work out the adjacency list to help you understand the diagram if necessary.</li>
<li>Create a new Python file (<code>.py</code>), either inherit from the FSM model defined in <code>fsm.py</code> or start from scratch.</li>
<li>Implement the Vending Machine FSM to meet the requirements outlined in the state diagram.</li>
</ul>
<h1 id="submit-your-code">Submit Your Code </h1>
<p><a href="#top">Top</a></p>
<p>Feel free to submit a pull request to the original repository to showcase your work if you wish to share your solution with others.</p>
<h1 id="further-reading">Further Reading </h1>
<p><a href="#top">Top</a></p>
<ul>
<li><a href="https://www.wikiwand.com/en/Finite-state_machine">Wiki - Finite State Machine</a></li>
<li><a href="https://python-statemachine.readthedocs.io/en/latest/index.html">Python State Machine</a></li>
<li><a href="https://github.com/fgmacedo/python-statemachine">An implementation of FSM</a></li>
</ul>

      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "forest"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>